# Estimation-of-apartment-price

## Парсинг данных с авито (parsing)

Данные парсил с авито, так как на этом сайте минимальное присуствие js, из-за чего можно доставать информацию не используя сторонних приложений, пользуясь лишь библиотеками python парсинга BeautifulSoup, urrlib, requests.

Так как Авито активно борется с автоматическим парсингом, то даже при найденных 50 тыс. объявлений, доступно лишь около 4 тыс. Поэтому приходилось задавать разные параметры в фильтрах поиска объявлений, чтобы получать максимально разные выборки объявлений. Таким образом удалось собрать около 42 тыс. объявлений. Все равно мы не застрахованы от дубликатов объявлений, поэтому в будущем учтем это.

## Предобработка данных (preprocessing)

Чистка данных от выбросов, обработка nan значений и ошибок парсинга.

В процессе парсинга данные парсились неточно, в значения признаков попадали лишние символы или наоборот. В данном разделе я это исправил.

Также в процессе парсинга некоторые значения признаков для некоторых объектов не удалось найти, поэтому в нашем наборе данных появились nan значения. Я пытался восстановить неоторые nan значения, где это было возможно. Если восстановить данные было невозможно, то я не удалял эти значения, а присваивал им значения меньше минимального значения соответсвующего признака. Тем самым, градиентный бустинг будет отправлять эти значения всегда в один лист.

Также я столкнулся с выбросами в датафрейме, которые удалял в большей мере ориентируясь на диаграммы размахов (boxplot).

Работа по добыче информации из сырых признаков.

После парсинга мы встретились с большим количеством сырых признаков, например, координаты, название метро. Их необходимо было преобразовать во что-то разумное. Например, координаты можно преобразовать в расстояние до центра и в район, а метро в ветку и удаленность станции от центральных станций.

Кодировка признаков.

Я использовал для кодировки Mean Target Encoding и Label Encoding. MTE, как показали тесты, довольно хорошо показывает себя на xgboost и lightgbm. LE кодировку мы оставим для catbosst, т.к. catboost довольно хорошо обрабатывает категориальные признаки сам, насколько мне известно, он также использует target encoding.

## Создание 
